隆Absolutamente\! Has llegado al punto donde el C谩lculo se une con la toma de decisiones. La **Optimizaci贸n** es el proceso de encontrar la mejor soluci贸n (el m谩ximo beneficio o el m铆nimo costo) dentro de un conjunto de posibilidades.

En finanzas y negocios, la optimizaci贸n es la meta final:

  * **Maximizaci贸n:** Maximizar el rendimiento de una cartera, las ganancias de un proyecto.
  * **Minimizaci贸n:** Minimizar el riesgo, los costos de producci贸n o las p茅rdidas.

-----

### M贸dulo 3: Fundamentos de C谩lculo y Optimizaci贸n

#### Nivel Intermedio: Optimizaci贸n B谩sica con Python

En el M贸dulo 3, Nivel B谩sico, vimos que la **derivada** ($\frac{dy}{dx}$) es **cero** en los puntos donde una funci贸n alcanza un m谩ximo o un m铆nimo. Esto se llama el **criterio de la primera derivada**.

Para programar la optimizaci贸n, usaremos la librer铆a **SciPy** y su m贸dulo `optimize`, que tiene herramientas muy potentes para encontrar estos puntos.

### 1\. Problema de Minimizaci贸n: Minimizando P茅rdidas

Comencemos con un problema com煤n en la gesti贸n de operaciones o finanzas corporativas: **minimizar el costo**.

**Caso de Estudio:** Una f谩brica ha modelado sus costos de producci贸n ($C$) en funci贸n de la cantidad de unidades producidas ($x$). La funci贸n de costo es:

$$C(x) = x^2 - 10x + 50$$

Queremos encontrar la cantidad de unidades ($x$) que resulta en el **menor costo posible**.

#### Implementaci贸n con SciPy

La funci贸n `scipy.optimize.minimize` est谩 dise帽ada para encontrar el valor de $x$ que hace que la funci贸n sea lo m谩s baja posible.

```python
from scipy.optimize import minimize
import numpy as np

# 1. Definimos la funci贸n de Costo (C(x)) que queremos MINIMIZAR
def funcion_costo(x):
    # x: es la cantidad de unidades producidas (debe ser un array para SciPy)
    # C(x) = x^2 - 10x + 50
    return x[0]**2 - 10*x[0] + 50

# 2. Definimos una "adivinanza" inicial (punto de partida)
# SciPy necesita un valor inicial para comenzar su b煤squeda.
x0 = np.array([0.0])

# 3. Ejecutamos la funci贸n de minimizaci贸n
# El m茅todo 'Powell' o 'Nelder-Mead' son buenos para funciones simples.
resultado_minimizacion = minimize(funcion_costo, x0, method='Powell')

# 4. Extraemos el resultado 贸ptimo
unidades_optimas = resultado_minimizacion.x[0]
costo_minimo = resultado_minimizacion.fun

print("--- 1. Optimizaci贸n para Minimizar Costos ---")
print(f"Resultado de la Optimizaci贸n: {resultado_minimizacion.success}")
print(f"Unidades (x) que minimizan el Costo: {unidades_optimas:.2f}")
print(f"Costo M铆nimo Obtenido: ${costo_minimo:.2f}")

# Conclusi贸n Matem谩tica (Usando la derivada):
# dC/dx = 2x - 10. Si 2x - 10 = 0, entonces x = 5.
# El costo m铆nimo ocurre al producir 5 unidades, y el costo es C(5) = 5^2 - 10(5) + 50 = 25.
# SciPy encuentra este mismo punto con alta precisi贸n.
```

-----

### 2\. Problema de Maximizaci贸n: Maximizando Ganancias

La funci贸n de optimizaci贸n de SciPy solo hace **minimizaci贸n**. Para maximizar una funci贸n de Ganancia ($G(x)$), usamos un truco matem谩tico: **minimizar la funci贸n negativa** de la ganancia, $-G(x)$.

  * Encontrar el $\text{M谩ximo de } G(x)$ es lo mismo que encontrar el $\text{M铆nimo de } -G(x)$.

**Caso de Estudio:** Una empresa tiene una funci贸n de Ganancia ($G$) que depende de la inversi贸n en publicidad ($x$):

$$G(x) = -0.05x^2 + 5x$$

Queremos encontrar la inversi贸n en publicidad ($x$) que **maximice la ganancia**.

#### Implementaci贸n con Python (Funci贸n Negativa)

```python
# 1. Definimos la funci贸n de Ganancia G(x)
def funcion_ganancia(x):
    return -0.05*x[0]**2 + 5*x[0]

# 2. Definimos la funci贸n NEGATIVA de Ganancia que queremos MINIMIZAR
def funcion_a_minimizar(x):
    return -funcion_ganancia(x)

# 3. Definimos una "adivinanza" inicial
x0 = np.array([0.0])

# 4. Ejecutamos la minimizaci贸n (que en realidad nos da el m谩ximo de la ganancia)
resultado_optimo = minimize(funcion_a_minimizar, x0, method='Powell')

# 5. Extraemos el resultado
inversion_optima = resultado_optimo.x[0]
ganancia_maxima = funcion_ganancia(np.array([inversion_optima])) # Usamos la funci贸n original

print("\n--- 2. Optimizaci贸n para Maximizar Ganancias ---")
print(f"Inversi贸n ptima (x) en Publicidad: ${inversion_optima:.2f}")
print(f"Ganancia M谩xima Obtenida: ${ganancia_maxima:.2f}")

# Conclusi贸n: Al invertir $50 en publicidad, la ganancia m谩xima esperada es $125.
# (Puedes verificar con la derivada: dG/dx = -0.1x + 5. Si -0.1x + 5 = 0, entonces x = 50).
```

La optimizaci贸n es fundamental para la toma de decisiones en cualquier campo: log铆stica, finanzas, ingenier铆a y m谩s.

Has superado los niveles de C谩lculo. 驴Est谩s listo para dar el salto al Nivel Avanzado y aplicar estas herramientas a la gesti贸n de portafolios con la **Teor铆a Moderna de Portafolios (MPT)**? 
